# CORS Configuration
# Allowed origins for CORS requests (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://cortex.web.local,https://cortex.web.local,http://localhost:9001

# Execution Environment
# Options: local, dev, production
EXECUTION_ENV=local

# Database Configuration
# PostgreSQL configuration (in Docker, CORTEX_DB_HOST should be overridden to 'db' service name)
CORTEX_DB_TYPE=postgresql
CORTEX_DB_USERNAME=root
CORTEX_DB_PASSWORD=password
CORTEX_DB_HOST=localhost
CORTEX_DB_PORT=5432
CORTEX_DB_NAME=cortex

CORTEX_DB_MEMORY=false
CORTEX_AUTO_APPLY_DB_MIGRATIONS=true
# SQLite database file path (only used if CORTEX_DB_TYPE=sqlite)
CORTEX_DB_FILE=./cortexstore.db


CORTEX_FILE_STORAGE_ENCRYPTION_KEY=<GENERATED_ENCRYPTION_KEY>

# PostgreSQL environment variables (used by PostgreSQL container)
POSTGRES_USER=root
POSTGRES_PASSWORD=password
POSTGRES_DB=cortex

# API Configuration
# API base URL for frontend (accessible from browser, so localhost works in Docker)
API_BASE_URL=http://localhost:9002

# Cache Configuration
# Note: In Docker, CORTEX_CACHE_REDIS_URL is overridden in docker-compose.yml to redis://redis:6379
CORTEX_CACHE_ENABLED=true
CORTEX_CACHE_BACKEND=redis
CORTEX_CACHE_REDIS_URL=redis://localhost:6379

# File Storage & Spreadsheet Configuration
# Storage type: local, gcs, s3
CORTEX_FILE_STORAGE_TYPE=local
CORTEX_FILE_STORAGE_INPUT_DIR=.cortex/storage/inputs
CORTEX_FILE_STORAGE_SQLITE_DIR=.cortex/storage/sqlite
CORTEX_FILE_STORAGE_CACHE_DIR=.cortex/cache/sqlite
CORTEX_FILE_STORAGE_CACHE_MAX_SIZE_GB=10
CORTEX_FILE_STORAGE_CACHE_TTL_HOURS=168

# GCS Configuration (only if CORTEX_FILE_STORAGE_TYPE=gcs)
CORTEX_FILE_STORAGE_GCS_BUCKET=cortex-store
CORTEX_FILE_STORAGE_GCS_PREFIX=file-storage

# Jobs Server Configuration
# Enable background jobs for scheduled tasks (auto-enabled for GCS)
CORTEX_ENABLE_JOBS=true
CORTEX_API_HOST=0.0.0.0
CORTEX_API_PORT=9002
CORTEX_JOBS_HOST=0.0.0.0
CORTEX_JOBS_PORT=9003


# Admin API Configuration (for distributed deployments)
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
CORTEX_ADMIN_API_KEY=<ADMIN_API_KEY>

# Jobs server configuration (set when jobs server is deployed separately)
# Example: CORTEX_API_BASE_URL=https://api-server.example.com
# If not set, jobs server uses local cache manager directly
# CORTEX_API_BASE_URL=http://localhost:9002

# Show admin endpoints in API docs (default: false for security)
CORTEX_SHOW_ADMIN_API_IN_DOCS=true

# Pre-aggregations
CORTEX_PREAGGREGATIONS_ENABLED=false